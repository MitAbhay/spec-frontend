{"version":3,"file":"component---src-pages-gallery-view-index-js-6d478d280d16fb871907.js","mappings":"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","sources":["webpack://spec/./src/pages/gallery/view/index.js"],"sourcesContent":["// Import Components\r\nimport React, { Component } from \"react\";\r\nimport Layout from \"components/UI/Layout/Layout\";\r\nimport axios from \"axios\";\r\n// import Gallery from \"react-photo-gallery\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { galleryURL } from \"assets/utils/Routes\";\r\nimport {\r\n  faChevronRight,\r\n  faChevronLeft,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n// import LightGallery from 'lightgallery/react';\r\n// import lgThumbnail from 'lightgallery/plugins/thumbnail';\r\n// import lgZoom from 'lightgallery/plugins/zoom';\r\n\r\n//CSS\r\n// import 'lightgallery/css/lightgallery.css';\r\n// import 'lightgallery/css/lg-zoom.css';\r\n// import 'lightgallery/css/lg-thumbnail.css';\r\nimport \"assets/styles/gallery.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"assets/styles/gallerygrid.css\";\r\n\r\n// Constants\r\nconst photo = require(\"./photos.json\");\r\n\r\n// console.log(lightgallery)\r\n// console.log(gallery)\r\nexport default class Images extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      FullImageCard: false,\r\n      imageUrl: null,\r\n      currentIndex: 0,\r\n      data: [],\r\n      title: this.props.location.search.slice(6),\r\n      // tt: this.props.location,\r\n      currentImage: 0,\r\n      viewerIsOpen: false,\r\n      load_status: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let url = \"/?event=\" + this.state.title;\r\n    // console.log(this.state.tt)\r\n    if (this.state.title === \"Random\") {\r\n      url = \"\";\r\n    }\r\n    console.log(this.state.url);\r\n    axios\r\n      .get(galleryURL + url)\r\n      .then((response) => {\r\n        let photos = response.data;\r\n        function select(a,b){\r\n            if(a.year>b.year){\r\n                return 1;\r\n            }\r\n            else{\r\n                return -1;\r\n            }\r\n        }\r\n        photos.sort(select);\r\n       \r\n        // console.log(rs);\r\n        // const photos = rs;\r\n        // for (let i = 0; i < response.data.length; i++) {\r\n        //     rs[i].src = response.data[i].image_url;\r\n        //     rs[i].width = 3;\r\n        //     rs[i].height = 4;\r\n        //     if (i % 3 === 0) {\r\n        //         rs[i].width = 4;\r\n        //         rs[i].height = 3;\r\n        //     }\r\n        //     if (i % 2 === 1) {\r\n        //         rs[i].width = 3;\r\n        //         rs[i].height = 2;\r\n        //     }\r\n        //     else if (i % 2 === 0) {\r\n        //         rs[i].width = 4;\r\n        //         rs[i].height = 3;\r\n        //     }\r\n        //     if (i % 7 === 0) {\r\n        //         rs[i].width = 3;\r\n        //         rs[i].height = 4;\r\n        //     }\r\n        //     if (i % 5 === 0) {\r\n        //         rs[i].width = 6;\r\n        //         rs[i].height = 5;\r\n        //     }\r\n        //     if (i % 4 === 0) {\r\n        //         rs[i].width = 4;\r\n        //         rs[i].height = 2;\r\n        //     }\r\n        // }\r\n        this.setState({ data: photo });\r\n        this.setState({ load_status: false });\r\n        console.log(this.state.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  openLightbox = (photo, index ) => {\r\n      this.setState({ currentImage: index, viewerIsOpen: true })\r\n      this.showImage(photo,index);\r\n      \r\n  };\r\n  closeLightbox = () => {\r\n      this.setState({ currentImage: 0, viewerIsOpen: false })\r\n  };\r\n  showImage = (img, ind) => {\r\n      let url = this.state.data[ind].image_url;\r\n      this.setState({\r\n          FullImageCard: true,\r\n          imageUrl: url,\r\n          currentIndex: ind,\r\n      });\r\n  }\r\n  showPrev = (ind) => {\r\n      if (ind > 0) {\r\n          let url = this.state.data[ind - 1].image_url;\r\n          this.setState({\r\n              FullImageCard: true,\r\n              imageUrl: url,\r\n              currentIndex: ind - 1,\r\n          });\r\n      }\r\n  }\r\n  showNext = (ind) => {\r\n      if (ind < this.state.data.length - 1) {\r\n          let url = this.state.data[ind + 1].image_url;\r\n          this.setState({\r\n              FullImageCard: true,\r\n              imageUrl: url,\r\n              currentIndex: ind + 1,\r\n          });\r\n      }\r\n  }\r\n  exitButton = () => {\r\n      this.setState({ FullImageCard: false });\r\n  }\r\n  onInit = () => {\r\n\r\n  };\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <React.Fragment>\r\n\r\n        <h1 className=\"text-5xl font-bold text-center mt-16 sm:text-7xl md:text-8xl\">{this.state.title}</h1>\r\n        {this.state.FullImageCard && (\r\n            <div id=\"overlay\">\r\n              <div\r\n                id=\"prevButton\"\r\n                className={\r\n                  this.state.currentIndex == 0 ? \"gallery-disabled\" : \"\"\r\n                }\r\n                onClick={() => this.showPrev(this.state.currentIndex)}\r\n              >\r\n                <FontAwesomeIcon icon={faChevronLeft} />\r\n              </div>\r\n              <img src={this.state.imageUrl} style={{ width: '70%'}}/>\r\n              <div\r\n                id=\"nextButton\"\r\n                className={\r\n                  this.state.currentIndex === this.state.data.length - 1\r\n                    ? \"gallery-disabled\"\r\n                    : \"nextButton\"\r\n                }\r\n                onClick={() => this.showNext(this.state.currentIndex)}\r\n              >\r\n                <FontAwesomeIcon icon={faChevronRight} />\r\n              </div>\r\n              <div id=\"exitButton\" onClick={() => this.exitButton()}>\r\n                <FontAwesomeIcon icon={faTimes} />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n        {/* <div className=\"mx-8 lg:mx-16 2xl:mx-32 mt-16 pb-32\"> */}\r\n        <section class=\"p-8 lg:p-16 gallery-section\">\r\n        <div className=\"grid gap-8 grid-flow-row-dense gallery-grid\">\r\n          {this.state.data.map((img_data,ind) => {\r\n            return (\r\n              <div class=\"flex flex-col bg-cover bg-center cursor-pointer relative justify-end col-auto box-border  gallery-item\"\r\n              // onClick={() => console.log('hello ',img_data,ind)}\r\n              onClick={() => this.openLightbox(img_data,ind)}\r\n\r\n               style={{backgroundImage:`url(${img_data.thumb_image_url})`}}>\r\n              <div class=\" font-semibold p-4 bg-white text-black\">\r\n                <span className=\"font-extrabold\">{ind}</span> {img_data.event} {img_data.year} {img_data.sub_event}\r\n              </div>\r\n            </div>\r\n              \r\n            );\r\n          })}\r\n        </div>\r\n        </section>\r\n        {/* <LightGallery\r\n                onInit={this.onInit}\r\n                speed={500}\r\n                plugins={[lgThumbnail, lgZoom]}\r\n            >\r\n                {\r\n                    this.state.data.map((img_data) => {\r\n                        return(\r\n                            <a data-src={img_data.thumb_image_url} key={img_data.id} className=\"gallery-item\">\r\n                                <img src={img_data.thumb_image_url} className=\"img-responsive\"/>\r\n                            </a>\r\n                        )\r\n                    })\r\n                }\r\n            </LightGallery> */}\r\n        {/* <div className=\"mt-10\"></div> */}\r\n        {/* </div> */}\r\n        </React.Fragment>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"],"names":["photo","require","Images","props","openLightbox","index","setState","currentImage","viewerIsOpen","showImage","closeLightbox","img","ind","url","state","data","image_url","FullImageCard","imageUrl","currentIndex","showPrev","showNext","length","exitButton","onInit","title","location","search","slice","load_status","componentDidMount","this","console","log","axios","galleryURL","then","response","sort","a","b","year","catch","err","render","className","id","onClick","icon","faChevronLeft","src","style","width","faChevronRight","faTimes","class","map","img_data","backgroundImage","thumb_image_url","event","sub_event","Component"],"sourceRoot":""}